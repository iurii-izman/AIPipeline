# Stable HTTPS Endpoint Options (instead of rotating ngrok URL)

Практическая матрица выбора стабильного публичного URL для `n8n` webhooks (WF-2, WF-3, WF-5).

## Сводный рейтинг (1-100)

| Option | Free/Paid | Rating | Почему |
|--------|-----------|--------|--------|
| Cloudflare Tunnel + domain | Free (+ optional paid Zero Trust) | 93 | Стабильный URL, нет проброса портов, просто поддерживать |
| VPS + Caddy + Let's Encrypt | Paid (VPS) | 90 | Полный контроль, предсказуемо для production |
| Tailscale Funnel | Free/Paid (зависит от плана) | 82 | Быстро и безопасно, но зависит от Tailnet-модели |
| ngrok with reserved/static domain | Paid (для стабильного адреса) | 78 | Просто мигрировать с текущего ngrok сценария |
| n8n Cloud | Paid | 75 | Минимум ops, но выше vendor lock-in и регулярная стоимость |

## Плюсы/минусы по вариантам

## 1) Cloudflare Tunnel + own domain

Плюсы:
- Бесплатный стабильный endpoint с вашим доменом.
- Не нужен открытый inbound порт на машине.
- Удобно обновлять webhook URL один раз.

Минусы:
- Нужен домен и Cloudflare account.
- Первичная настройка DNS/Zero Trust.

Для AIPipeline:
- Лучший баланс цена/простота/надёжность для solo-setup.

## 2) VPS + Caddy + Let's Encrypt

Плюсы:
- Полный контроль над URL, TLS, логами и политиками.
- Хорошо масштабируется в production сценарии.

Минусы:
- Нужен VPS (платно) и администрирование (backup/updates/hardening).
- Больше ответственности за безопасность.

Для AIPipeline:
- Подходит, если нужен максимальный контроль и предсказуемость.

## 3) Tailscale Funnel

Плюсы:
- Быстрый безопасный старт без сложного сетевого конфига.
- Хороший DX для разработчика.

Минусы:
- Ограничения зависят от текущего плана/политик Tailscale.
- Привязка к Tailnet подходу.

Для AIPipeline:
- Хорош как промежуточный вариант между ngrok и VPS.

## 4) ngrok static domain (reserved)

Плюсы:
- Минимальные изменения относительно текущего setup.
- Быстрый путь к стабильному URL.

Минусы:
- Обычно требует платный план.
- Стоимость и лимиты завязаны на ngrok тариф.

Для AIPipeline:
- Самый быстрый fix без смены стека.

## 5) n8n Cloud

Плюсы:
- Минимум инфраструктурного сопровождения.
- Стабильный публичный endpoint «из коробки».

Минусы:
- Регулярная подписка.
- Vendor lock-in и меньше контроля над рантаймом.

Для AIPipeline:
- Подходит, если цель — убрать ops почти полностью.

## Рекомендация по шагам

1. Краткосрочно (сегодня): оставить ngrok, завершить UAT/акты.
2. Среднесрочно (1-2 дня): перейти на Cloudflare Tunnel + domain.
3. Дальше: если нужны строгие production-гарантии и контроль — VPS+Caddy.
